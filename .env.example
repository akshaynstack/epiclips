# =============================================================================
# ViewCreator Genesis - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=viewcreator-genesis
DEBUG=false
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# AWS Configuration
# -----------------------------------------------------------------------------
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
S3_BUCKET=viewcreator-media

# -----------------------------------------------------------------------------
# Model Paths
# -----------------------------------------------------------------------------
# Path to YOLO face detection model
YOLO_MODEL_PATH=/app/models/yolov8n-face.pt
YOLO_MODEL_NAME=yolov8n-face.pt

# -----------------------------------------------------------------------------
# Processing Settings
# -----------------------------------------------------------------------------
# Interval between frame extractions for detection
FRAME_INTERVAL_SECONDS=2.0

# Maximum concurrent clipping jobs
MAX_CONCURRENT_JOBS=2

# Temporary directories for processing
TEMP_DIRECTORY=/tmp/genesis
WORKSPACE_ROOT=/tmp/ai-clipping-agent

# Maximum video duration allowed (in seconds)
MAX_VIDEO_DURATION_SECONDS=7200

# -----------------------------------------------------------------------------
# Detection Settings
# -----------------------------------------------------------------------------
FACE_CONFIDENCE_THRESHOLD=0.5
POSE_CONFIDENCE_THRESHOLD=0.5
TRACKING_MAX_AGE=30

# -----------------------------------------------------------------------------
# API Settings
# -----------------------------------------------------------------------------
API_TIMEOUT_SECONDS=300

# -----------------------------------------------------------------------------
# Security - API Authentication (must match viewcreator-api configuration)
# -----------------------------------------------------------------------------
# API key for authenticating incoming requests from viewcreator-api
# Generate with: openssl rand -hex 32
GENESIS_API_KEY=

# Secret for signing outgoing webhook payloads to viewcreator-api
# Generate with: openssl rand -hex 32
GENESIS_WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# yt-dlp Configuration (Video Download)
# -----------------------------------------------------------------------------
# Path to yt-dlp binary
YTDLP_PATH=yt-dlp

# Optional: Browser to extract cookies from (e.g., "chrome", "firefox")
# YTDLP_COOKIES_FROM_BROWSER=chrome

# Optional: Extra command-line arguments for yt-dlp (space-separated)
# YTDLP_EXTRA_ARGS=--geo-bypass

# Maximum download duration allowed (in seconds)
MAX_DOWNLOAD_DURATION_SECONDS=7200

# -----------------------------------------------------------------------------
# Transcription Configuration (Groq Whisper)
# -----------------------------------------------------------------------------
# Required: Groq API key for Whisper transcription
# Get your key at: https://console.groq.com/
GROQ_API_KEY=your-groq-api-key

# Whisper model to use (whisper-large-v3-turbo is fastest)
TRANSCRIPTION_MODEL=whisper-large-v3-turbo

# Chunk duration for long audio transcription (seconds)
# Groq supports up to 30 minutes per chunk
GROQ_CHUNK_DURATION_SECONDS=1800

# -----------------------------------------------------------------------------
# OpenRouter / LLM Configuration (Intelligence Planning)
# -----------------------------------------------------------------------------
OPENROUTER_API_KEY=your-openrouter-api-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Models for clip planning (via OpenRouter)
GEMINI_MODEL=google/gemini-2.5-flash
QWEN_MODEL=qwen/qwen-2.5-vl-72b-instruct

# Maximum clips to suggest per video
MAX_SUGGESTED_CLIPS=5

# Maximum frames per vision API batch
MAX_FRAMES_PER_VISION_BATCH=48

# -----------------------------------------------------------------------------
# Rendering Configuration
# -----------------------------------------------------------------------------
# Output video dimensions (9:16 for TikTok/Reels/Shorts)
TARGET_OUTPUT_WIDTH=1080
TARGET_OUTPUT_HEIGHT=1920

# FFmpeg encoding settings
FFMPEG_PRESET=veryfast
FFMPEG_CRF=20

# -----------------------------------------------------------------------------
# Stack Layout Configuration
# -----------------------------------------------------------------------------
# For videos with screen share + face (e.g., coding tutorials)
STACK_SCREEN_HEIGHT_RATIO=0.55
STACK_FACE_HEIGHT_RATIO=0.45

# -----------------------------------------------------------------------------
# Camera Physics (Smoothing)
# -----------------------------------------------------------------------------
# Mass-spring-damper system for smooth camera movement
CAMERA_MASS=1.0
CAMERA_STIFFNESS=150.0
CAMERA_DAMPING=20.0

# -----------------------------------------------------------------------------
# Caption Styling
# -----------------------------------------------------------------------------
CAPTION_FONT_NAME=Arial Black
CAPTION_FONT_SIZE=72
CAPTION_PRIMARY_COLOR=#FFFFFF
CAPTION_HIGHLIGHT_COLOR=#FFD700
CAPTION_POSITION=center
CAPTION_MAX_WORDS_PER_LINE=4
CAPTION_WORD_BY_WORD_HIGHLIGHT=true
CAPTION_UPPERCASE=true
